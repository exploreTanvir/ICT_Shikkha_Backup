import React, { useState } from "react";
import { useParams } from "react-router-dom/cjs/react-router-dom.min";
import { ToastContainer, toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';
import bkash from '../../assets/bkash.png';
import { AllCourseMenu } from "../AllCourse/AllCourseMenu";
import "./course.css";
import { courseDeta } from './CourseDetail';

const Course = () => {

  const { courseId } = useParams();
  const course = AllCourseMenu[courseId];


  const notify = () => toast("‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶® ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶Æ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßÅ‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡¶¨‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶£ ‡•§");


  const handleCopyClick = () => {
    toast("üëå‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá ! ")
    const textToCopy = document.getElementById("copyText").innerText; 
    navigator.clipboard.writeText(textToCopy)
  };

  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState({
    accountType: "‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂",
    accountNumber: "01721554216",
  });

  const updatePaymentInfo = (event) => {
    const selectedOption = event.target.options[event.target.selectedIndex];
    setSelectedPaymentMethod({
      accountType: selectedOption.text,
      accountNumber: selectedOption.getAttribute("data-account"),
    });
  };

  return (
    <section className="py-5">
      <div className="faqTitle text-center mb-4">
        <span>‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</span>
      </div>

      <div className="container">
        <div className="row courseRow">
          <div className="col-lg-8 faqRight">
            <div className="accordion accordion-flush" id="accordionFlushExample">
              <div className="accordion-item">
                <h2 className="accordion-header rounded" id="panelsStayOpen-headingOne">
                  <button
                    className="accordion-button fs-5"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#panelsStayOpen-collapseOne"
                    aria-expanded="true"
                    aria-controls="panelsStayOpen-collapseOne"
                  >
                    ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶Ø‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø:
                  </button>
                </h2>
                <div
                  id="panelsStayOpen-collapseOne"
                  className="accordion-collapse collapse show"
                  aria-labelledby="panelsStayOpen-headingOne"
                >
                  <div className="accordion-body">
                    <ul type="square">
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶™‡ßú‡¶æ‡¶∂‡ßã‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∂‡¶æ‡¶™‡¶æ‡¶∂‡¶ø ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶ï‡ßã‡¶Æ‡ßç‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®/‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶≤‡ßá‡¶ü‡ßá‡¶° ‡¶´‡¶ø‡¶ï‡ßç‡¶∏‡¶° ‡¶ú‡¶¨ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π‡ßÄ ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ó‡¶°‡¶º‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ‡¶ø‡¶Ç ‡¶≠‡¶æ‡¶∑‡¶æ‡¶Ø‡¶º ‡¶¶‡¶ï‡ßç‡¶∑‡¶§‡¶æ ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶´‡¶ü‡¶ì‡¶Ø‡¶º‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶™‡¶•‡ßá ‡¶è‡¶ó‡ßã‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶â‡¶ü‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∂‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡ßç‡¶∞‡¶´‡ßá‡¶∂‡¶®‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡¶ø‡¶≤ ‡¶Ö‡¶∞‡ßç‡¶ú‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                      <li>‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶™‡¶æ‡¶∂‡¶æ‡¶™‡¶æ‡¶∂‡¶ø ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶Ü‡¶Ø‡¶º‡ßá‡¶∞ ‡¶â‡ßé‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®‡•§</li>
                    </ul>
                  </div>
                </div>
              </div>
              {courseDeta.map((item, index) => (
                <div key={index} className="accordion-item">
                  <h1 className="accordion-header rounded" id={item.flushID}>
                    <button
                      className="accordion-button fs-5 collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target={item.flushCollapsTarget}
                      aria-expanded="false"
                      aria-controls={item.flushCollaps}
                    >
                      {item.title}
                    </button>
                  </h1>
                  <div
                    id={item.flushCollaps}
                    className="accordion-collapse collapse"
                    aria-labelledby={item.flushID}
                    data-bs-parent="#accordionFlushExample"
                  >
                    <div className="accordion-body">
                      <ul type="square">
                        <p>{item.item3}</p>
                        <li>{item.item}</li>
                        <p>{item.item2}</p>
                      </ul>
                    </div>
                  </div>
                </div>
              ))}

              <div
                className="modal fade"
                id="exampleModal"
                tabIndex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
              >
                <div
                  className="paymentContainer modal-dialog modal-dialog-centered modal-dialog-scrollable"
                >
                  <div className="modal-content">
                    <div className="modal-header pt-">
                      <button
                        type="button"
                        className="btn-close p-0"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div className="modal-body">
                      <div className="row">
                        <div className="col-md-6">
                          <form>
                            <div className="mb-3">
                              <label
                                htmlFor="paymentMethod"
                                className="form-label fw-bold"
                              >
                                ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®
                              </label>
                              <select
                                className="form-select"
                                id="paymentMethod"
                                onChange={updatePaymentInfo}
                              >
                                <option value="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂" data-account="01721554216">
                                 <img src={bkash} alt="" /> ‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂
                                </option>
                                <option value="‡¶∞‡¶ï‡ßá‡¶ü" data-account="0845421541">
                                  ‡¶∞‡¶ï‡ßá‡¶ü
                                </option>
                                <option value="‡¶®‡¶ó‡¶¶" data-account="09542515421">
                                  ‡¶®‡¶ó‡¶¶
                                </option>
                              </select>
                            </div>
                            <div className="mb-3">
                              <label
                                htmlFor="senderMobile"
                                className="form-label fw-bold"
                              >
                                ‡¶Ö‡¶∞‡ßç‡¶•‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶®
                              </label>
                              <input
                                type="number"
                                className="form-control"
                                id="senderMobile"
                                placeholder={course.price}
                                value={course.price}
                              />
                            </div>
                            <div className="mb-3">
                              <label
                                htmlFor="senderMobile"
                                className="form-label fw-bold"
                              >
                                ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞
                              </label>
                              <input
                                type="number"
                                className="form-control"
                                id="senderMobile"
                                placeholder=""
                              />
                            </div>
                            <div className="mb-3">
                              <label
                                htmlFor="transactionId"
                                className="form-label fw-bold"
                              >
                                ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡ßá‡¶ï‡¶∂‡¶® ‡¶Ü‡¶á‡¶°‡¶ø (TrxID)
                              </label>
                              <input
                                type="text"
                                className="form-control"
                                id="transactionId"
                                placeholder=""
                              />
                            </div>
                            <button
                              type="button"
                              id="liveToastBtn"
                              className="py-2 w-100 mt-4 btn1"
                              onClick={notify}
                            >
                              ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® <i className="fa fa-arrow-right ms-2"></i>
                            </button>
                          </form>
                        </div>
                        <div className="col-md-6 px-4 paymentRight">
                          <h4 className="fw-bold Instruction mb-3 mt-sm-3">
                            ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂‡¶∏‡¶Æ‡ßÇ‡¶π ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®
                          </h4>
                          <p>
                            <b id="accountType">{selectedPaymentMethod.accountType}</b> ‡¶è‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶è
                            ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶∞‡ßç‡¶∏ ‡¶´‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®
                          </p>
                          <ul>
                            <li id="accountNumber">
                              <b>{selectedPaymentMethod.accountType}</b> ‡¶™‡¶æ‡¶∞‡¶∏‡ßã‡¶®‡¶æ‡¶≤:{" "}
                             <button id="copyText" onClick={handleCopyClick} className="bg-white border-0"> <b><i className="fa-regular fa-copy ms-3 me-1"></i>{selectedPaymentMethod.accountNumber}</b></button>
                            
                            </li>
                          </ul>
                          <p>
                            ‡¶´‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶™‡¶∞‡ßá, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶≠‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø
                            ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶Ü‡¶á‡¶°‡¶ø (TrxID) ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶ï‡ßá‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
                            ‡¶Ø‡¶ñ‡¶® ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶á, ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ü‡¶ø 10-15 ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá
                            ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶ï‡¶∞‡¶¨, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§
                          </p>
                          <p>
                            ‡¶Ü‡¶∞‡¶ì ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® : <br />
                            <b
                              ><i className="fa-solid fa-headset"></i> ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶≤‡¶æ‡¶á‡¶® :
                              ‡ß¶‡ßß‡ß™‡ßß‡ßÆ‡ß≠‡ßÆ‡ß™‡ß™‡ß´</b>
                          </p>
                          <p>
                            <b><i className="fa-solid fa-phone-volume"></i> ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤:</b>
                            <i>‡ß¶‡ßß‡ßÆ‡ß´‡ß´‡ßÆ‡ßÆ‡ß®‡ß®‡ß´</i> <br />
                            <b><i className="fa-brands fa-whatsapp"></i> ‡¶π‡ßã‡¶Ø‡¶º‡¶æ‡¶ü‡¶∏‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™:</b>
                            <i>‡ß¶‡ßß‡ßÆ‡ßÆ‡ß®‡ß´‡ß´‡ß´‡ß®‡ß®</i>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>



          <div className="col-lg-4 col-md-12">
            <div className="card" id="card">
              <div>
              <div className={course.class}>
                  <img src={course.courseImg} alt="" />
                 </div>
                <div className="px-3">
                <h4 className="text-center courseTitle mt-3">{course.tilte}</h4>
               <div className="d-flex align-items-center justify-content-between py-2">
               <h5 className="card-title mb-3">‡ß≥ {course.price} <del className="fs-6 text-black-50">{course.pastPrice}</del></h5>
               <div className="d-flex gap-2 align-items-center">
                    <h6>{course.instructorName}</h6>
                    <img className="Instructor" src={course.instructor} alt="" />
                  </div>
               </div>
                <div>
                  <button
                    type="button"
                    className="allCoursesBtn d-flex align-items-center fs-5 justify-content-center me-4"
                    data-bs-toggle="modal"
                    data-bs-target="#exampleModal"
                  >
                    ‡¶è‡¶®‡¶∞‡ßã‡¶≤ ‡¶ï‡¶∞‡ßÅ‡¶® <i className="fa fa-arrow-right ms-2 courseIcon"></i>
                  </button>
                </div>
                <div className="desc mt-4">
                  <p>
                    <i className="fa-solid fa-user-group me-2"></i>‡¶ï‡ßã‡¶∞‡ßç‡¶∏‡¶ü‡¶ø ‡¶ï‡¶∞‡¶õ‡ßá‡¶® {course.people} ‡¶ú‡¶®
                  </p>
                  <p>
                    <i className="fa-solid fa-stopwatch me-2"></i>‡¶∏‡¶Æ‡ßü ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá {course.time}
                  </p>
                  <p>
                    <i className="fa-regular fa-circle-play me-2"></i>{course.vdo} ‡¶ü‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì
                  </p>
                  <p>
                    <i className="fa-solid fa-calendar-days me-2"></i>‡¶∏‡¶Æ‡ßü‡¶∏‡ßÄ‡¶Æ‡¶æ {course.mnth} ‡¶Æ‡¶æ‡¶∏
                  </p>
                </div>
                </div>
              </div>
            </div>



        </div>



        </div>
        <ToastContainer
      position="top-right"
      autoClose={5000}
      closeOnClick
      rtl
      pauseOnFocusLoss
      draggable
      pauseOnHover
    />
      </div>
    </section>
  );
};

export default Course;
